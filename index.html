<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<title>shawncplus/lzHilight @ GitHub</title>

	<style type="text/css">
		body {
			margin-top: 1.0em;
			background-color: #333;
			font-family: "Helvetica,Arial,FreeSans",sans-serif;
			color: #ffffff;
		}
		#container {
			margin: 0 auto;
			background-color:#222;
			width: 700px;
			border: 5px solid #000;
		}
		h1 { font-size: 50px; color: #8b3; margin-bottom: 3px; }
		h1 .small { font-size: 0.4em; }
		h1 a { text-decoration: none }
		h2 { font-size: 1.5em; color: #8b3; }
		h3 { text-align: center; color: #8b3; }
		a { color: #8b3; }
		.description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
		.download { float: right; background:#111; padding:5px; border: 2px solid #333;}
		pre { background: #111; color: #fff; padding: 15px; border: 2px solid #333;}
		span.icode {
			padding: 3px;
			background: #111;
			color: #fff;
			white-space: pre;
			font-family: "Monaco", monospace;
			margin: 3px;
			display: block;
			border: 1px solid #333;
		}
		span.inline { display: inline !important; }
		hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
		.footer { text-align:center; padding-top:30px; font-style: italic; }
		ol.numbered { list-style-type: decimal; }
	</style>

</head>

<body>
	<a href="http://github.com/shawncplus/lzHilight"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

	<div id="container">
		<div class="download">
			<a href="http://github.com/shawncplus/lzHilight/zipball/master">
				<img border="0" width="90" src="http://github.com/images/modules/download/zip.png"></a>
			<a href="http://github.com/shawncplus/lzHilight/tarball/master">
				<img border="0" width="90" src="http://github.com/images/modules/download/tar.png"></a>
		</div>

		<h1><a href="http://github.com/shawncplus/lzHilight">lzHilight</a> 
			<span class="small">by <a href="http://github.com/shawncplus">shawncplus</a></span></h1>

		<div class="description">
			Terminal/HTML Code Highlighting
		</div>

		<p>Project original started as a syntax highlighter when I was in a terminal and didn't need/want to pop open vim. Somehow morphed into supporting HTML output into now having HTML output as it's main goal.</p>
		<p>
			<a id="top" />
		</p>
		<p>
			<ul>
				<li><a href="#getting_started" title="Getting Started">Getting Started</a>
				<ul><li><a href="#requirements" title="Requirements">Requirements</a></li>

					<li><a href="#wheretoget" title="Where to get it">Where to get it</a></li>
					<li><a href="#installing" title="Installing">Installing</a></li>
					<li><a href="#usage" title="Usage">Usage</a></li>
					<li><a href="#uthemes" title="Themes">Themes</a></li></ul></li>
				<li><a href="#extending" title="Extending">Extending</a>
				<ul><li><a href="#synfiles" title="Syntax Files">Syntax Files</a></li>

					<li><a href="#handlers" title="Handler Methods">Handler Methods</a></li>
					<li><a href="#lexers" title="Tokenizers">Tokenizers</a></li>
					<li><a href="#themes" title="Themes">Themes</a>
					<ul><li><a href="#theme_inh" title="Theme Inheritance">Theme Inheritance</a></li></ul></li></ul></li>
				<li><a href="#moreinfo" title="More Info">Further Info</a></li>
			</ul>

		</p>
		<h2 id="getting_started">Getting Started</h2>

		<hr />

		<h3 class="section_header" id="requirements">Requirements</h3>

		<p>
			<ul>
				<li>PHP 5.2.x or greater</li>
				<li>Linux only until PHP 5.3</li>
			</ul>
		</p>

		<h3 class="section_header" id="wheretoget">How to get it</h3>
		<p>You can download this project in either
			<a href="http://github.com/shawncplus/lzHilight/zipball/master">zip</a> or
			<a href="http://github.com/shawncplus/lzHilight/tarball/master">tar</a> formats.
		</p>
		<p>You can also clone the project with <a href="http://git-scm.com">Git</a> by running:
			<pre>$ git clone git://github.com/shawncplus/lzHilight</pre>
		</p>

		<h3 class="section_header" id="installing">Installing</h3>
		<p>
			<ol>
				<li><span class="icode">chmod a+x install.sh</span></li>
				<li><span class="icode">./install.sh</span>  (sudo if you want to install for all users)</li>
			</ol>
		</p>

		<h3 class="section_header" id="usage">Usage</h3>
		<pre class="brush: plain">man lzhighlight</pre>

		<h3 class="section_header" id="uthemes">Themes</h3>

		<p><strong>Setting the default theme</strong>: To set the default theme just symlink your
		preferred theme to a folder named <span class="icode inline">syntax/</span> in the base of the repo:</p>

		<pre class="brush: plain">ln -s themes/wombat/ syntax</pre>

		<p><strong>Override default</strong>: You can use the <span class="icode inline">-e</span> option to override the default</p>

		<pre class="brush: plain">highlight -i somefile.php -e skittles_dark</pre>

		<h2 id="extending">Extending</h2>
		<hr />

		<h3 class="section_header" id="synfiles">Syntax Files</h3>

		<p>To add a syntax to the highlighter you need to create two files: syntax.syn
		and syntax.php. syntax.syn will be a newline separated file containing the
		tokens and associated color (see man console_codes) OR HTML colors <br />
		<strong>Example:</strong></p>

		<pre class="brush: plain">
T_STRING 1;32
T_ELSEIF #FF00FF</pre>

		<p>The tokens in syntax.syn must match the tokens produced by <span class="icode inline">&lt;syntax&gt;.php</span>. The
		.syn files can link together by using the #LINK directive ie.,</p>

		<pre class="brush: plain">
T_STRING 1;32
T_ELSEIF 31
#LINK html.syn</pre>

		<p>The color can also be another token which links multiple tokens together:</p>

		<pre class="brush: plain">
T_STRING        bgreen   // use human readable color
T_ENCAPS_STRING T_STRING // link T_ENCAPS_STRING to T_STRING</pre>

		<p>You can also apply bold/italics to a token using <span class="icode inline">%</span>:</p>

		<pre class="brush: plain">
COMMENT    #5D8D8F%i          // italic
OP         #8AC6F2%b          // bold</pre>

		<p>Background colors are supported but only applied to HTML output:</p>

		<pre class="brush: plain">ERROR      #960050%bi #1E0010 // bold, italic and custom bgcolor</pre>

		<h3>Handler Methods</h3>

		<p>Inside the tokenizers you can write methods to handle tokens directly if
		there is extra processing that needs to take place (making URLs links, etc)
		To do this, simply put the name of the function as the color:</p>

		<pre class="brush: plain">HTML_STRING      HtmlLexer::handleString</pre>

		<p>Also, you can specify whether or not it should happen only on HTML or
		console output. When you do this you must specify a fallback color to use.</p>

		<pre class="brush: plain">HTML_STRING      HtmlLexer::handleString|STRING    HTMLONLY</pre>

		<p>The function must always come first followed by a pipe and a color, which
		like above, can be another token name.</p>

		<h3 class="section_header" id="lexers">Tokenizers</h3>

		<p>The &lt;syntax&gt;.php file at minimum must contain the camelized class &lt;syntax&gt;Lexer
		ie., PhpLexer. This class's tokenize method returns an array of tokenizations of
		the code passed to the function as a string. The array should follow the
		format of:</p>

		<pre class="brush: plain">
array(
	0 =&gt; array(
		'token' =&gt; 'T_STRING',
		'string' =&gt; "'this is some string in the code'"
	),
	1 =&gt; array(
		'token' =&gt; 'T_ELSEIF',
		'string' =&gt; 'elseif'
	)
)</pre>

		<p>See the bundled <span class="icode inline">tokenizers/php.php</span> and <span class="icode inline">syntax/php.syn</span> for more examples.</p>

		<h3 class="section_header" id="themes">Themes</h3>

		<p>Themes exist in the (duh) <span class="icode inline">themes/</span> directory. Each theme has a directory under
		themes/ with the name of the theme, ie., <span class="icode inline">themes/wombat/</span>. Inside this directory
		is a <span class="icode inline">&lt;lang&gt;.syn</span> file for each syntax the theme supports.</p>

		<ul>
			<li>themes/
			<ul>
				<li>wombat/
					<ul>
						<li>php.syn</li>
						<li>default.syn</li>
						<li>...</li>

					</ul>
				</li>
				<li>skittles_dark/
					<ul>
						<li>php.syn</li>
						<li>default.syn</li>
						<li>...</li>
					</ul>

				</li>
			</ul>
			</li>
		</ul>

		<h4 id="theme_inh">Theme Inheritance</h4>

		<p>The simplest way to inherit from a theme is to simply create symlinks to another
		theme and override the default.syn file. However, there may be entries in that
		theme's <span class="icode inline">&lt;lang&gt;.syn</span> file that does not fallthrough to the default.syn so be
		careful.</p>

		<h2 id="moreinfo">Further Info</h2>

		<hr />

		<p>If you can't get it working or you found a bug, etc. then send an email to
		shawn AT shawnbiddle DOT com with the subject 'Syntax Highlighter'</p>

		<p><a href="#top" title="Back to top">Back to top</a></p>

		<div class="footer">
			get the source code on GitHub : <a href="http://github.com/shawncplus/lzHilight">shawncplus/lzHilight</a>
		</div>
	</div>
</body>
</html>
